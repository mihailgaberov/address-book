var abApp=angular.module("address-book",["LocalStorageModule","ngRoute"]);abApp.config(["localStorageServiceProvider","$routeProvider",function(t,e){t.setPrefix("address-book"),e.when("/",{templateUrl:"views/results/results.html",controller:"ResultsController",resolve:{resolveData:["ResultEntryFactory",function(t){return t.getAllEntries()}]}}).otherwise({redirectTo:"/"})}]).constant("_",window._).run(["CountryListFactory",function(t){var e=require("country-list")();t.setCountryList(e)}]),angular.module("address-book").factory("CountryListFactory",[function(){"use strict";var t={},e=function(e){t=e},r=function(){return t.getData()},o=function(e){return t.getName(e)};return{getCountryList:r,setCountryList:e,getNameByCode:o}}]),angular.module("address-book").factory("ResultEntryFactory",["localStorageService","$q",function(t,e){"use strict";var r=t.get("index"),o=function(e){t.isSupported&&(r||t.set("index",r=1),e.id=r,t.set("entry:"+r,e),t.set("index",++r))},n=function(){var r=t.length();if(r-1){var o,n=[],s=t.keys();for(o=0;o<s.length;o++)/entry.\d+/.test(s[o])&&n.push(t.get(s[o]))}return e.when(n)};return{addEntry:o,getAllEntries:n}}]),angular.module("address-book").controller("ResultsController",["ResultEntryFactory","resolveData","$scope",function(t,e,r){r.entries=e,console.log(">>> resolveData: ",e)}]),angular.module("address-book").controller("FormController",["$scope","CountryListFactory","ResultEntryFactory",function(t,e,r){this.countriesData=e.getCountryList(),this.submitForm=function(){var o={firstName:t.firstName,lastName:t.lastName,email:t.email,country:e.getNameByCode(t.country)};0===t.recordId.value?r.addEntry(o):console.log(">>>>> edit")}}]).directive("addressBookForm",function(){return{controller:"FormController",controllerAs:"fc",restrict:"E",scope:{},templateUrl:"views/form/address-book-form.html",link:function(t,e,r,o){t.countries=o.countriesData}}});