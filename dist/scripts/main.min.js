var abApp=angular.module("address-book",["LocalStorageModule"]);abApp.config(["localStorageServiceProvider",function(t){t.setPrefix("address-book")}]).constant("_",window._).run(["CountryListFactory",function(t){var e=require("country-list")();t.setCountryList(e)}]),angular.module("address-book").factory("CountryListFactory",[function(){"use strict";var t={},e=function(e){t=e},r=function(){return t.getData()},o=function(e){return t.getName(e)};return{getCountryList:r,setCountryList:e,getNameByCode:o}}]),angular.module("address-book").factory("ResultEntryFactory",["localStorageService",function(t){"use strict";var e=t.get("index"),r=function(r){t.isSupported&&(e||t.set("index",e=1),r.id=e,t.set("entry:"+e,r),t.set("index",++e))},o=function(){var e=t.length();if(e-1){var r,o=[],n=t.keys();for(r=0;r<n.length;r++)/entry.\d+/.test(n[r])&&o.push(t.get(n[r]))}return o};return{addEntry:r,getAllEntries:o}}]),angular.module("address-book").factory("UiFactory",[function(){"use strict";var t=function(t){var e,r,o=document.createElement("tr");for(r in t)t.hasOwnProperty(r)&&(e=document.createElement("td"),e.appendChild(document.createTextNode(t[r])),o.appendChild(e));e=document.createElement("td"),e.innerHTML='<a data-option="edit" data-id="'+t.id+'">Edit</a> | <a data-option="delete" data-id="'+t.id+'">Delete</a>',o.appendChild(e),o.setAttribute("id","address-book-entry-"+t.id),document.querySelectorAll("#address-book-table")[0].appendChild(o)},e=function(e){!_.isUndefined(e)&&e.length>0&&_.forEach(e,function(e){t(e)})};return{addEntryToUI:t,showAll:e}}]),angular.module("address-book").controller("FormController",["$scope","CountryListFactory","ResultEntryFactory","UiFactory",function(t,e,r,o){this.countriesData=e.getCountryList(),this.submitForm=function(){var n={firstName:t.firstName,lastName:t.lastName,email:t.email,country:e.getNameByCode(t.country)};0===t.recordId.value?(r.addEntry(n),o.addEntryToUI(n)):console.log(">>>>> edit")}}]).directive("addressBookForm",function(){return{controller:"FormController",controllerAs:"fc",restrict:"E",scope:{},templateUrl:"views/form/address-book-form.html",link:function(t,e,r,o){t.countries=o.countriesData}}}),angular.module("address-book").controller("ResultsController",["UiFactory","ResultEntryFactory",function(t,e){this.getAllEntries=function(){t.showAll(e.getAllEntries())}}]).directive("results",function(){return{controller:"ResultsController",controllerAs:"rc",restrict:"E",scope:{},templateUrl:"views/results/results.html",link:function(t,e,r,o){o.getAllEntries()}}});